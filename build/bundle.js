module.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=r(5),o=r(39);e.exports=o.fromExpress(function(e,t){n.defaults({AUTH0_DOMAIN:e.webtaskContext.secrets.AUTH0_DOMAIN,AUTH0_SCOPES:e.webtaskContext.secrets.AUTH0_SCOPES,NODE_ENV:"production",HOSTING_ENV:"webtask",CLIENT_VERSION:"1.1.1"});var o=r(32);return o(e,t)})},function(e,t){"use strict";function r(e){return"[object Array]"===v.call(e)}function n(e){return"[object ArrayBuffer]"===v.call(e)}function o(e){return"[object FormData]"===v.call(e)}function a(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function i(e){return"number"==typeof e}function u(e){return"undefined"==typeof e}function c(e){return null!==e&&"object"==typeof e}function f(e){return"[object Date]"===v.call(e)}function p(e){return"[object File]"===v.call(e)}function l(e){return"[object Blob]"===v.call(e)}function d(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function h(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function m(e,t){if(null!==e&&"undefined"!=typeof e)if("object"==typeof e||r(e)||(e=[e]),r(e))for(var n=0,o=e.length;o>n;n++)t.call(null,e[n],n,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(null,e[a],a,e)}function g(){function e(e,r){"object"==typeof t[r]&&"object"==typeof e?t[r]=g(t[r],e):t[r]=e}for(var t={},r=0,n=arguments.length;n>r;r++)m(arguments[r],e);return t}var v=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:n,isFormData:o,isArrayBufferView:a,isString:s,isNumber:i,isObject:c,isUndefined:u,isDate:f,isFile:p,isBlob:l,isStandardBrowserEnv:h,forEach:m,merge:g,trim:d}},function(e,t,r){var n=r(12),o=r(35),a={};t.wrap=function(e,t,r){return o.assert(e instanceof Error,"Cannot wrap non-Error object"),e.isBoom?e:a.initialize(e,t||500,r)},t.create=function(e,r,n){return a.create(e,r,n,t.create)},a.create=function(e,t,r,n){var o=new Error(t?t:void 0);return Error.captureStackTrace(o,n),o.data=r||null,a.initialize(o,e),o},a.initialize=function(e,t,r){var n=parseInt(t,10);return o.assert(!isNaN(n)&&n>=400,"First argument must be a number (400+):",t),e.isBoom=!0,e.isServer=n>=500,e.hasOwnProperty("data")||(e.data=null),e.output={statusCode:n,payload:{},headers:{}},e.reformat=a.reformat,e.reformat(),r||e.message||(r=e.output.payload.error),r&&(e.message=r+(e.message?": "+e.message:"")),e},a.reformat=function(){this.output.payload.statusCode=this.output.statusCode,this.output.payload.error=n.STATUS_CODES[this.output.statusCode]||"Unknown",500===this.output.statusCode?this.output.payload.message="An internal server error occurred":this.message&&(this.output.payload.message=this.message)},t.badRequest=function(e,r){return a.create(400,e,r,t.badRequest)},t.unauthorized=function(e,r,n){var s=a.create(401,e,void 0,t.unauthorized);if(!r)return s;var i="",u=0,c=0;if("string"==typeof r){if(i=r,(n||e)&&(s.output.payload.attributes={}),n){var f=Object.keys(n);for(u=0,c=f.length;c>u;++u){var p=f[u];u&&(i+=",");var l=n[p];null!==l&&void 0!==l||(l=""),i+=" "+p+'="'+o.escapeHeaderAttribute(l.toString())+'"',s.output.payload.attributes[p]=l}}e?(n&&(i+=","),i+=' error="'+o.escapeHeaderAttribute(e)+'"',s.output.payload.attributes.error=e):s.isMissing=!0}else{var d=r;for(u=0,c=d.length;c>u;++u)u&&(i+=", "),i+=d[u]}return s.output.headers["WWW-Authenticate"]=i,s},t.forbidden=function(e,r){return a.create(403,e,r,t.forbidden)},t.notFound=function(e,r){return a.create(404,e,r,t.notFound)},t.methodNotAllowed=function(e,r){return a.create(405,e,r,t.methodNotAllowed)},t.notAcceptable=function(e,r){return a.create(406,e,r,t.notAcceptable)},t.proxyAuthRequired=function(e,r){return a.create(407,e,r,t.proxyAuthRequired)},t.clientTimeout=function(e,r){return a.create(408,e,r,t.clientTimeout)},t.conflict=function(e,r){return a.create(409,e,r,t.conflict)},t.resourceGone=function(e,r){return a.create(410,e,r,t.resourceGone)},t.lengthRequired=function(e,r){return a.create(411,e,r,t.lengthRequired)},t.preconditionFailed=function(e,r){return a.create(412,e,r,t.preconditionFailed)},t.entityTooLarge=function(e,r){return a.create(413,e,r,t.entityTooLarge)},t.uriTooLong=function(e,r){return a.create(414,e,r,t.uriTooLong)},t.unsupportedMediaType=function(e,r){return a.create(415,e,r,t.unsupportedMediaType)},t.rangeNotSatisfiable=function(e,r){return a.create(416,e,r,t.rangeNotSatisfiable)},t.expectationFailed=function(e,r){return a.create(417,e,r,t.expectationFailed)},t.badData=function(e,r){return a.create(422,e,r,t.badData)},t.preconditionRequired=function(e,r){return a.create(428,e,r,t.preconditionRequired)},t.tooManyRequests=function(e,r){return a.create(429,e,r,t.tooManyRequests)},t.internal=function(e,r,n){return a.serverError(e,r,n,t.internal)},a.serverError=function(e,r,n,o){var s;return r instanceof Error?s=t.wrap(r,n,e):(s=a.create(n||500,e,void 0,o),s.data=r),s},t.notImplemented=function(e,r){return a.serverError(e,r,501,t.notImplemented)},t.badGateway=function(e,r){return a.serverError(e,r,502,t.badGateway)},t.serverTimeout=function(e,r){return a.serverError(e,r,503,t.serverTimeout)},t.gatewayTimeout=function(e,r){return a.serverError(e,r,504,t.gatewayTimeout)},t.badImplementation=function(e,r){var n=a.serverError(e,r,500,t.badImplementation);return n.isDeveloperError=!0,n}},function(e,t){e.exports=require("url")},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t){e.exports=require("nconf")},function(e,t){e.exports=require("request")},function(e,t,r){"use strict";function n(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=r(1);e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else{var s=[];o.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(o.isArray(e)&&(t+="[]"),o.isArray(e)||(e=[e]),o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),s.push(n(t)+"="+n(e))}))}),a=s.join("&")}return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},function(e,t,r){e.exports=r(33)({http:r(12),https:r(45)})},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("path")},function(e,t,r){function n(e){return e=e.match(/.{1,64}/g).join("\n"),e="-----BEGIN CERTIFICATE-----\n"+e,e+="\n-----END CERTIFICATE-----\n"}var o=r(49),a=r(6),s=r(48),i={max:5242880,length:function(e){return e.length},maxAge:3e5},u=o(i);e.exports=function(e){return e=e||{},e.strictSSL="undefined"==typeof e.strictSSL?!0:e.strictSSL,function(t,r,o,i){var c=o.iss+"|"+o.aud,f=u.get(c);if(f)return i(null,f);switch(r.alg){case"RS256":var p=o.iss+".well-known/jwks.json";a.get(p,{json:!0,strictSSL:e.strictSSL},function(e,t,a){if(e)return i(e);if(200!==t.statusCode)return i(new Error("Failed to obtain JWKS from "+o.iss));var f=s.find(a.keys,function(e){return e.kid==r.kid});if(!f)return i(new Error("Failed to obtain signing key used by "+o.iss));var p=n(f.x5c[0]);return u.set(c,p),i(null,p)});break;default:return i(new Error("Unsupported JWT algorithm: "+r.alg))}}}},function(e,t,r){function n(e){return e&&"[object Function]"==h.call(e)}function o(e){return function(t,r,n){d.get(e+"/userinfo").set("Authorization","Bearer "+t.body.access_token).end(function(e,o){return e?void r.redirect(r.locals.baseUrl):(t.userInfo=o.body,void n())})}}function a(e,t){return function(r,o,a){var s=e;n(e)&&(s=e(r)),r.apiToken=l.sign(r.userInfo,s,{algorithm:"HS256",issuer:o.locals.baseUrl,expiresIn:t}),delete r.userinfo,a()}}var s=r(11),i=r(46),u=r(44),c=r(3),f=r(14),p=r(9),l=r(47),d=r(51),h={}.toString;e.exports=function(e){var t=864e5,n=s.Router(),l=function(e,t,r){r()},d=[l];return e=e||{},e.clientName=e.clientName||"Auth0 Extension",e.clientId=e.clientId,e.exp=e.exp||t,e.credentialsRequired="undefined"==typeof e.credentialsRequired?!1:e.credentialsRequired,e.scopes=e.scopes+" openid profile",e.responseType=e.responseType||"token",e.tokenExpiresIn=e.tokenExpiresIn||"10h",e.rootTenantAuthority=e.rootTenantAuthority||"https://auth0.auth0.com",e.authenticatedCallback=e.authenticatedCallback||function(e,t,r,n){n()},e.apiToken&&!e.apiToken.secret&&(console.log('You are using a "development secret" for API token generation. Please setup your secret on "apiToken.secret".'),e.apiToken.secret=r(10).randomBytes(32).toString("hex")),e.apiToken&&e.apiToken.secret&&(d=[o(e.rootTenantAuthority),e.apiToken.payload||l,a(e.apiToken.secret,e.tokenExpiresIn)]),n.use(function(e,t,r){var n="https",o=c.parse(e.originalUrl).pathname.replace(e.path,"");t.locals.baseUrl=c.format({protocol:n,host:e.get("host"),pathname:o}),r()}),n.use(p.urlencoded({extended:!1})),n.use(u({secret:f(),algorithms:["RS256"],credentialsRequired:e.credentialsRequired}).unless({path:["/login","/callback"]})),n.get("/login",function(t,r){var n=[e.rootTenantAuthority+"/i/oauth2/authorize","?client_id="+(e.clientId||r.locals.baseUrl),"&response_type="+e.responseType,"&response_mode=form_post","&scope="+encodeURIComponent(e.scopes),"&expiration="+e.exp,"&redirect_uri="+r.locals.baseUrl+"/callback"].join("");r.redirect(n)}),n.get("/logout",function(t,r){var n=["html","  head","    script.","      sessionStorage.removeItem('token')","      sessionStorage.removeItem('apiToken')","      window.location.href = '"+e.rootTenantAuthority+"/v2/logout?returnTo=#{baseUrl}';","  body"].join("\n"),o=i.compile(n)({baseUrl:r.locals.baseUrl});r.header("Content-Type","text/html"),r.status(200).send(o)}),n.post("/callback",d,function(t,r){e.authenticatedCallback(t,r,t.body.access_token,function(e){if(e)return r.sendStatus(500);var n=["html","  head","    script.","      sessionStorage.setItem('token', '"+t.body.access_token+"');",1===d.length?"":"      sessionStorage.setItem('apiToken', '"+t.apiToken+"');","      window.location.href = '#{baseUrl}';","  body"].join("\n"),o=i.compile(n)({baseUrl:r.locals.baseUrl});r.header("Content-Type","text/html"),r.status(200).send(o)})}),n.get("/.well-known/oauth2-client-configuration",function(t,r){r.header("Content-Type","application/json"),r.status(200).send({redirect_uris:[r.locals.baseUrl+"/callback"],client_name:e.clientName})}),n}},function(e,t,r){e.exports=r(19)},function(e,t,r){"use strict";var n=r(1),o=r(7),a=r(4),s=r(8).http,i=r(8).https,u=r(3),c=r(53),f=r(36),p=r(41).Buffer;e.exports=function(e,t,r){var l,d=r.data,h=r.headers,m=!1;if(h["User-Agent"]||h["user-agent"]||(h["User-Agent"]="axios/"+f.version),d){if(n.isArrayBuffer(d))d=new p(new Uint8Array(d));else{if(!n.isString(d))return t(new Error("Data after transformation must be a string or an ArrayBuffer"));d=new p(d,"utf-8")}h["Content-Length"]=d.length}var g=void 0;if(r.auth){var v=r.auth.username||"",y=r.auth.password||"";g=v+":"+y}var b=u.parse(r.url),x={hostname:b.hostname,port:b.port,path:o(b.path,r.params,r.paramsSerializer).replace(/^\?/,""),method:r.method,headers:h,agent:r.agent,auth:g},w="https:"===b.protocol?i:s,j=w.request(x,function(n){if(!m){clearTimeout(l),l=null;var o=n;switch(n.headers["content-encoding"]){case"gzip":case"compress":case"deflate":o=o.pipe(c.createUnzip()),delete n.headers["content-encoding"]}var s=[];o.on("data",function(e){s.push(e)}),o.on("end",function(){var o=p.concat(s);"arraybuffer"!==r.responseType&&(o=o.toString("utf8"));var i={data:a(o,n.headers,r.transformResponse),status:n.statusCode,statusText:n.statusMessage,headers:n.headers,config:r};(n.statusCode>=200&&n.statusCode<300?e:t)(i)})}});j.on("error",function(e){m||t(e)}),r.timeout&&!l&&(l=setTimeout(function(){var e=new Error("timeout of "+r.timeout+"ms exceeded");e.timeout=r.timeout,e.code="ECONNABORTED",j.abort(),t(e),m=!0},r.timeout)),j.end(d)}},function(e,t,r){"use strict";var n=r(1),o=r(7),a=r(29),s=r(4),i=r(28),u=window.btoa||r(24);e.exports=function(e,t,c){var f=c.data,p=c.headers;n.isFormData(f)&&delete p["Content-Type"];var l=new XMLHttpRequest;if(!window.XDomainRequest||"withCredentials"in l||i(c.url)||(l=new window.XDomainRequest),c.auth){var d=c.auth.username||"",h=c.auth.password||"";p.Authorization="Basic "+u(d+":"+h)}if(l.open(c.method.toUpperCase(),o(c.url,c.params,c.paramsSerializer),!0),l.timeout=c.timeout,l.onload=function(){if(l){var r="getAllResponseHeaders"in l?a(l.getAllResponseHeaders()):null,n=-1!==["text",""].indexOf(c.responseType||"")?l.responseText:l.response,o={data:s(n,r,c.transformResponse),status:1223===l.status?204:l.status,statusText:1223===l.status?"No Content":l.statusText,headers:r,config:c};(o.status>=200&&o.status<300||!("status"in l)&&o.responseText?e:t)(o),l=null}},l.onerror=function(){t(new Error("Network Error")),l=null},n.isStandardBrowserEnv()){var m=r(26),g=c.withCredentials||i(c.url)?m.read(c.xsrfCookieName):void 0;g&&(p[c.xsrfHeaderName]=g)}if("setRequestHeader"in l&&n.forEach(p,function(e,t){"undefined"==typeof f&&"content-type"===t.toLowerCase()?delete p[t]:l.setRequestHeader(t,e)}),c.withCredentials&&(l.withCredentials=!0),c.responseType)try{l.responseType=c.responseType}catch(v){if("json"!==l.responseType)throw v}n.isArrayBuffer(f)&&(f=new DataView(f)),l.send(f)}},function(e,t,r){"use strict";function n(e){this.defaults=a.merge({},e),this.interceptors={request:new i,response:new i}}var o=r(22),a=r(1),s=r(21),i=r(20),u=r(27),c=r(25),f=r(23),p=r(4);n.prototype.request=function(e){"string"==typeof e&&(e=a.merge({url:arguments[0]},arguments[1])),e=a.merge(o,this.defaults,{method:"get"},e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url)),e.withCredentials=e.withCredentials||this.defaults.withCredentials,e.data=p(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r};var l=new n(o),d=e.exports=f(n.prototype.request,l);d.create=function(e){return new n(e)},d.defaults=l.defaults,d.all=function(e){return Promise.all(e)},d.spread=r(30),d.interceptors=l.interceptors,a.forEach(["delete","get","head"],function(e){n.prototype[e]=function(t,r){return this.request(a.merge(r||{},{method:e,url:t}))},d[e]=f(n.prototype[e],l)}),a.forEach(["post","put","patch"],function(e){n.prototype[e]=function(t,r,n){return this.request(a.merge(n||{},{method:e,url:t,data:r}))},d[e]=f(n.prototype[e],l)})},function(e,t,r){"use strict";function n(){this.handlers=[]}var o=r(1);n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n},function(e,t,r){"use strict";e.exports=function(e){return new Promise(function(t,n){try{var o;"function"==typeof e.adapter?o=e.adapter:"undefined"!=typeof XMLHttpRequest?o=r(18):"undefined"!=typeof process&&(o=r(17)),"function"==typeof o&&o(t,n,e)}catch(a){n(a)}})}},function(e,t,r){"use strict";var n=r(1),o=/^\)\]\}',?\n/,a={"Content-Type":"application/x-www-form-urlencoded"};e.exports={transformRequest:[function(e,t){return n.isFormData(e)?e:n.isArrayBuffer(e)?e:n.isArrayBufferView(e)?e.buffer:!n.isObject(e)||n.isFile(e)||n.isBlob(e)?e:(n.isUndefined(t)||(n.forEach(t,function(e,r){"content-type"===r.toLowerCase()&&(t["Content-Type"]=e)}),n.isUndefined(t["Content-Type"])&&(t["Content-Type"]="application/json;charset=utf-8")),JSON.stringify(e))}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(o,"");try{e=JSON.parse(e)}catch(t){}}return e}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:n.merge(a),post:n.merge(a),put:n.merge(a)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"}},function(e,t){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t){"use strict";function r(e){this.message=e}function n(e){for(var t,n,a=String(e),s="",i=0,u=o;a.charAt(0|i)||(u="=",i%1);s+=u.charAt(63&t>>8-i%1*8)){if(n=a.charCodeAt(i+=.75),n>255)throw new r("INVALID_CHARACTER_ERR: DOM Exception 5");t=t<<8|n}return s}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=n},function(e,t){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?function(){return{write:function(e,t,r,o,a,s){var i=[];i.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),n.isString(o)&&i.push("path="+o),n.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?function(){function e(e){var t=e;return r&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,r=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(r){var o=n.isString(r)?e(r):r;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()},function(e,t,r){"use strict";var n=r(1);e.exports=function(e){var t,r,o,a={};return e?(n.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t&&(a[t]=a[t]?a[t]+", "+r:r)}),a):a}},function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";var n=r(43),o=r(3),a=r(5);e.exports=function(){var e='\n    <!DOCTYPE html>\n    <html lang="en">\n    <head>\n      <title>User Import/Export Dashboard</title>\n      <meta charset="UTF-8" />\n      <meta http-equiv="X-UA-Compatible" content="IE=Edge" />\n      <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n      <link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/2.0.1/lib/logos/img/favicon.png">\n      <meta name="viewport" content="width=device-width, initial-scale=1">\n      <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styles/zocial.min.css">\n      <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/manage/v0.3.973/css/index.min.css">\n      <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styleguide/3.8.4/index.css">\n      <% if (assets.version) { %>\n        <link rel="stylesheet" type="text/css" href="//cdn.auth0.com/extensions/auth0-user-import-export/assets/auth0-user-import-export.ui.<%= assets.version %>.css">\n      <% } %>\n    </head>\n    <body>\n      <div id="app"></div>\n      <script type="text/javascript">window.config = <%- JSON.stringify(config) %>;</script>\n      <script type="text/javascript" src="//cdn.auth0.com/js/lock-9.0.min.js"></script>\n      <script type="text/javascript" src="//cdn.auth0.com/manage/v0.3.973/components/ZeroClipboard/ZeroClipboard.js"></script>\n      <script type="text/javascript" src="//cdn.auth0.com/manage/v0.3.973/js/bundle.js"></script>\n      <% if (assets.app) { %><script type="text/javascript" src="<%= assets.app %>"></script><% } %>\n      <% if (assets.version) { %>\n      <script type="text/javascript" src="//cdn.auth0.com/extensions/auth0-user-import-export/assets/auth0-user-import-export.ui.vendors.<%= assets.version %>.js"></script>\n      <script type="text/javascript" src="//cdn.auth0.com/extensions/auth0-user-import-export/assets/auth0-user-import-export.ui.<%= assets.version %>.js"></script>\n      <% } %>\n    </body>\n    </html>\n  ';return function(t,r,s){var i={AUTH0_DOMAIN:a.get("AUTH0_DOMAIN"),BASE_URL:o.format({protocol:"production"!==a.get("NODE_ENV")?"http":"https",host:t.get("host"),pathname:o.parse(t.originalUrl||"").pathname.replace(t.path,"")}),BASE_PATH:o.parse(t.originalUrl||"").pathname.replace(t.path,"")},u=a.get("CLIENT_VERSION");return u?r.send(n.render(e,{config:i,assets:{version:u}})):void r.send(n.render(e,{config:i,assets:{app:"/app/bundle.js"}}))}}},function(e,t,r){(function(t){"use strict";var n=r(13),o=r(5),a=r(11),s=r(9),i=r(15),u=r(16),c=r(50).Readable,f=r(37),p=r(31);o.argv().env().file(n.join(t,"./config.json")).defaults({NODE_ENV:"development"});var l="";u.defaults.headers.common.Authorization="Bearer "+l;var d=a();d.use(i({scopes:o.get("AUTH0_SCOPES"),clientName:"User Import/Export Extension"})),d.use(s.json()),d.use(s.urlencoded({extended:!1})),d.get("/meta",function(e,t){t.status(200).send(f)}),d.post("/users-import",function(e,t){var r=new c;r.push(e.body.users),r.push(null);var n={connection_id:e.body.connection_id,users:r};u.post("https://"+o.get("AUTH0_DOMAIN")+"/api/v2/jobs/users-imports",n,{headers:{"Content-Type":"multipart/form-data"},timeout:5e4,responseType:"json"}).then(function(e){t.status(e.status).send(e.data)})["catch"](function(e){console.log(e),t.status(e.status).send(e.data&&e.data.message||e.statusText)})}),d.get("*",p()),{NODE_ENV:"production",CLIENT_VERSION:"1.1.1"}.PORT||3e3,e.exports=d}).call(t,"/")},function(e,t,r){"use strict";function n(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function o(e){return e.statusCode>=300&&e.statusCode<=399&&"location"in e.headers}function a(e){for(var t=0,r=f.length;r>t;++t)e[f[t]]=null}var s=r(3),i=r(42)("follow-redirects"),u=r(40),c=r(38);e.exports=function(e){function t(e){function t(f){if(f){var d=s.format(e);if(l.unshift(d),!o(f))return f.fetchedUrls=l,e.userCallback(f);c(f);var h=s.resolve(d,f.headers.location);i("redirecting to",h),a(e),n(e,s.parse(h))}if(l.length>e.maxRedirects){var m=new Error("Max redirects exceeded.");return u(m)}e.nativeProtocol=p[e.protocol],e.defaultRequest=r;var g=(e.makeRequest||r)(e,t,f);return f&&g.on("error",u),g}function r(e,t,r){r&&(e.method="GET");var n=e.nativeProtocol.request(e,t);return r&&n.end(),n}function u(e){f.emit("error",e)}var f,l=[];return f=t()}function r(e,r){var n=e+":",o=function(){};o.prototype=p[n]=r,o=new o,l[e]=o,o.request=function(e,r){return t(f(e,r,n))},o.get=function(e,r){e=f(e,r,n);var o=t(e);return o.end(),o}}function f(e,t,r){return u.equal(typeof t,"function","callback must be a function"),"string"==typeof e?(e=s.parse(e),e.maxRedirects=l.maxRedirects):e=n({maxRedirects:l.maxRedirects,protocol:r},e),u.equal(e.protocol,r,"protocol mismatch"),e.protocol=r,e.userCallback=t,i("options",e),e}var p={},l={maxRedirects:5};for(var d in e)e.hasOwnProperty(d)&&(u(/^[A-Z][A-Z\+\-\.]*$/i.test(d),JSON.stringify(d)+" is not a valid scheme name"),r(d,e[d]));return l};var f=["protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href"]},function(e,t){var r={};t.escapeJavaScript=function(e){if(!e)return"";for(var t="",n=0,o=e.length;o>n;++n){var a=e.charCodeAt(n);t+=r.isSafe(a)?e[n]:r.escapeJavaScriptChar(a)}return t},t.escapeHtml=function(e){if(!e)return"";for(var t="",n=0,o=e.length;o>n;++n){var a=e.charCodeAt(n);t+=r.isSafe(a)?e[n]:r.escapeHtmlChar(a)}return t},r.escapeJavaScriptChar=function(e){if(e>=256)return"\\u"+r.padLeft(""+e,4);var t=new Buffer(String.fromCharCode(e),"ascii").toString("hex");return"\\x"+r.padLeft(t,2)},r.escapeHtmlChar=function(e){var t=r.namedHtml[e];if("undefined"!=typeof t)return t;if(e>=256)return"&#"+e+";";var n=new Buffer(String.fromCharCode(e),"ascii").toString("hex");return"&#x"+r.padLeft(n,2)+";"},r.padLeft=function(e,t){for(;e.length<t;)e="0"+e;return e},r.isSafe=function(e){return"undefined"!=typeof r.safeCharCodes[e]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){for(var e={},t=32;123>t;++t)(t>=97||t>=65&&90>=t||t>=48&&57>=t||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()},function(e,t,r){var n=r(10),o=r(13),a=r(52),s=r(34),i={};t.clone=function(e,r){if("object"!=typeof e||null===e)return e;r=r||{orig:[],copy:[]};var n=r.orig.indexOf(e);if(-1!==n)return r.copy[n];var o,a=!1;if(Array.isArray(e))o=[],a=!0;else if(Buffer.isBuffer(e))o=new Buffer(e);else if(e instanceof Date)o=new Date(e.getTime());else if(e instanceof RegExp)o=new RegExp(e);else{var s=Object.getPrototypeOf(e);s&&s.isImmutable?o=e:(o=Object.create(s),a=!0)}if(r.orig.push(e),r.copy.push(o),a)for(var i=Object.getOwnPropertyNames(e),u=0,c=i.length;c>u;++u){var f=i[u],p=Object.getOwnPropertyDescriptor(e,f);p&&(p.get||p.set)?Object.defineProperty(o,f,p):o[f]=t.clone(e[f],r)}return o},t.merge=function(e,r,n,o){if(t.assert(e&&"object"==typeof e,"Invalid target value: must be an object"),t.assert(null===r||void 0===r||"object"==typeof r,"Invalid source value: must be null, undefined, or an object"),!r)return e;if(Array.isArray(r)){t.assert(Array.isArray(e),"Cannot merge array onto an object"),o===!1&&(e.length=0);for(var a=0,s=r.length;s>a;++a)e.push(t.clone(r[a]));return e}for(var i=Object.keys(r),u=0,c=i.length;c>u;++u){var f=i[u],p=r[f];p&&"object"==typeof p?!e[f]||"object"!=typeof e[f]||Array.isArray(e[f])^Array.isArray(p)||p instanceof Date||Buffer.isBuffer(p)||p instanceof RegExp?e[f]=t.clone(p):t.merge(e[f],p,n,o):null!==p&&void 0!==p?e[f]=p:n!==!1&&(e[f]=p)}return e},t.applyToDefaults=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||r===!0||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),!r)return null;var o=t.clone(e);return r===!0?o:t.merge(o,r,n===!0,!1)},t.cloneWithShallow=function(e,r){if(!e||"object"!=typeof e)return e;var n=i.store(e,r),o=t.clone(e);return i.restore(o,e,n),o},i.store=function(e,r){for(var n={},o=0,a=r.length;a>o;++o){var s=r[o],u=t.reach(e,s);void 0!==u&&(n[s]=u,i.reachSet(e,s,void 0))}return n},i.restore=function(e,t,r){for(var n=Object.keys(r),o=0,a=n.length;a>o;++o){var s=n[o];i.reachSet(e,s,r[s]),i.reachSet(t,s,r[s])}},i.reachSet=function(e,t,r){for(var n=t.split("."),o=e,a=0,s=n.length;s>a;++a){var i=n[a];a+1===s&&(o[i]=r),o=o[i]}},t.applyToDefaultsWithShallow=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||r===!0||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),t.assert(n&&Array.isArray(n),"Invalid keys"),!r)return null;var o=t.cloneWithShallow(e,n);if(r===!0)return o;var a=i.store(r,n);return t.merge(o,r,!1,!1),i.restore(o,r,a),o},t.deepEqual=function(e,r,n,o){n=n||{prototype:!0};var a=typeof e;if(a!==typeof r)return!1;if("object"!==a||null===e||null===r)return e===r?0!==e||1/e===1/r:e!==e&&r!==r;if(o=o||[],-1!==o.indexOf(e))return!0;if(o.push(e),Array.isArray(e)){if(!Array.isArray(r))return!1;if(!n.part&&e.length!==r.length)return!1;for(var s=0,i=e.length;i>s;++s){if(n.part){for(var u=!1,c=0,f=r.length;f>c;++c)if(t.deepEqual(e[s],r[c],n,o)){u=!0;break}return u}if(!t.deepEqual(e[s],r[s],n,o))return!1}return!0}if(Buffer.isBuffer(e)){if(!Buffer.isBuffer(r))return!1;if(e.length!==r.length)return!1;for(var p=0,l=e.length;l>p;++p)if(e[p]!==r[p])return!1;return!0}if(e instanceof Date)return r instanceof Date&&e.getTime()===r.getTime();if(e instanceof RegExp)return r instanceof RegExp&&e.toString()===r.toString();if(n.prototype&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(r))return!1;var d=Object.getOwnPropertyNames(e);if(!n.part&&d.length!==Object.getOwnPropertyNames(r).length)return!1;for(var h=0,m=d.length;m>h;++h){var g=d[h],v=Object.getOwnPropertyDescriptor(e,g);if(v.get){if(!t.deepEqual(v,Object.getOwnPropertyDescriptor(r,g),n,o))return!1}else if(!t.deepEqual(e[g],r[g],n,o))return!1}return!0},t.unique=function(e,t){for(var r={},n=[],o=0,a=e.length;a>o;++o){var s=t?e[o][t]:e[o];r[s]!==!0&&(n.push(e[o]),r[s]=!0)}return n},t.mapToObject=function(e,t){if(!e)return null;for(var r={},n=0,o=e.length;o>n;++n)t?e[n][t]&&(r[e[n][t]]=!0):r[e[n]]=!0;return r},t.intersect=function(e,r,n){if(!e||!r)return[];for(var o=[],a=Array.isArray(e)?t.mapToObject(e):e,s={},i=0,u=r.length;u>i;++i)if(a[r[i]]&&!s[r[i]]){if(n)return r[i];o.push(r[i]),s[r[i]]=!0}return n?null:o},t.contain=function(e,r,n){var o=null;"object"!=typeof e||"object"!=typeof r||Array.isArray(e)||Array.isArray(r)?r=[].concat(r):(o=r,r=Object.keys(r)),n=n||{},t.assert(arguments.length>=2,"Insufficient arguments"),t.assert("string"==typeof e||"object"==typeof e,"Reference must be string or an object"),t.assert(r.length,"Values array cannot be empty");var a,s;if(n.deep){a=t.deepEqual;var i=n.hasOwnProperty("only"),u=n.hasOwnProperty("part");s={prototype:i?n.only:u?!n.part:!1,part:i?!n.only:u?n.part:!0}}else a=function(e,t){return e===t};for(var c=!1,f=new Array(r.length),p=0,l=f.length;l>p;++p)f[p]=0;if("string"==typeof e){var d="(";for(p=0,l=r.length;l>p;++p){var h=r[p];t.assert("string"==typeof h,"Cannot compare string reference to non-string value"),d+=(p?"|":"")+t.escapeRegex(h)}var m=new RegExp(d+")","g"),g=e.replace(m,function(e,t){var n=r.indexOf(t);return++f[n],""});c=!!g}else if(Array.isArray(e))for(p=0,l=e.length;l>p;++p){for(var v=0,y=r.length,b=!1;y>v&&b===!1;++v)b=a(r[v],e[p],s)&&v;b!==!1?++f[b]:c=!0}else{var x=Object.keys(e);for(p=0,l=x.length;l>p;++p){var w=x[p],j=r.indexOf(w);if(-1!==j){if(o&&!a(o[w],e[w],s))return!1;++f[j]}else c=!0}}var E=!1;for(p=0,l=f.length;l>p;++p)if(E=E||!!f[p],n.once&&f[p]>1||!n.part&&!f[p])return!1;return n.only&&c?!1:E},t.flatten=function(e,r){for(var n=r||[],o=0,a=e.length;a>o;++o)Array.isArray(e[o])?t.flatten(e[o],n):n.push(e[o]);return n},t.reach=function(e,r,n){if(r===!1||null===r||"undefined"==typeof r)return e;n=n||{},"string"==typeof n&&(n={separator:n});for(var o=r.split(n.separator||"."),a=e,s=0,i=o.length;i>s;++s){var u=o[s];if("-"===u[0]&&Array.isArray(a)&&(u=u.slice(1,u.length),u=a.length-u),!a||!a.hasOwnProperty(u)||"object"!=typeof a&&n.functions===!1){t.assert(!n.strict||s+1===i,"Missing segment",u,"in reach path ",r),t.assert("object"==typeof a||n.functions===!0||"function"!=typeof a,"Invalid segment",u,"in reach path ",r),a=n["default"];break}a=a[u]}return a},t.reachTemplate=function(e,r,n){return r.replace(/{([^}]+)}/g,function(r,o){var a=t.reach(e,o,n);return void 0===a||null===a?"":a})},t.formatStack=function(e){for(var t=[],r=0,n=e.length;n>r;++r){var o=e[r];t.push([o.getFileName(),o.getLineNumber(),o.getColumnNumber(),o.getFunctionName(),o.isConstructor()])}return t},t.formatTrace=function(e){for(var t=[],r=0,n=e.length;n>r;++r){var o=e[r];t.push((o[4]?"new ":"")+o[3]+" ("+o[0]+":"+o[1]+":"+o[2]+")")}return t},t.callStack=function(e){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var n={};Error.captureStackTrace(n,arguments.callee);var o=n.stack;Error.prepareStackTrace=r;var a=t.formatStack(o);return e?a.slice(e):a},t.displayStack=function(e){var r=t.callStack(void 0===e?1:e+1);
return t.formatTrace(r)},t.abortThrow=!1,t.abort=function(e,r){if(t.abortThrow===!0)throw new Error(e||"Unknown error");var n="";r||(n=t.displayStack(1).join("\n	")),console.log("ABORT: "+e+"\n	"+n),process.exit(1)},t.assert=function(e){if(!e){if(2===arguments.length&&arguments[1]instanceof Error)throw arguments[1];for(var r=[],n=1,o=arguments.length;o>n;++n)""!==arguments[n]&&r.push(arguments[n]);throw r=r.map(function(e){return"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e)}),new Error(r.join(" ")||"Unknown error")}},t.Timer=function(){this.ts=0,this.reset()},t.Timer.prototype.reset=function(){this.ts=Date.now()},t.Timer.prototype.elapsed=function(){return Date.now()-this.ts},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.base64urlEncode=function(e,t){var r=Buffer.isBuffer(e)?e:new Buffer(e,t||"binary");return r.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(e,t){if(e&&!/^[\w\-]*$/.test(e))return new Error("Invalid character");try{var r=new Buffer(e,"base64");return"buffer"===t?r:r.toString(t||"binary")}catch(n){return n}},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return s.escapeHtml(e)},t.escapeJavaScript=function(e){return s.escapeJavaScript(e)},t.nextTick=function(e){return function(){var t=arguments;process.nextTick(function(){e.apply(null,t)})}},t.once=function(e){if(e._hoekOnce)return e;var t=!1,r=function(){t||(t=!0,e.apply(null,arguments))};return r._hoekOnce=!0,r},t.isAbsolutePath=function(e,t){return e?o.isAbsolute?o.isAbsolute(e):(t=t||process.platform,"win32"!==t?"/"===e[0]:!!/^(?:[a-zA-Z]:[\\\/])|(?:[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/])/.test(e)):!1},t.isInteger=function(e){return"number"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},t.ignore=function(){},t.inherits=a.inherits,t.format=a.format,t.transform=function(e,r,n){if(t.assert(null===e||void 0===e||"object"==typeof e||Array.isArray(e),"Invalid source object: must be null, undefined, an object, or an array"),Array.isArray(e)){for(var o=[],a=0,s=e.length;s>a;++a)o.push(t.transform(e[a],r,n));return o}for(var i={},u=Object.keys(r),c=0,f=u.length;f>c;++c){var p=u[c],l=p.split("."),d=r[p];t.assert("string"==typeof d,'All mappings must be "." delineated strings');for(var h,m=i;l.length>1;)h=l.shift(),m[h]||(m[h]={}),m=m[h];h=l.shift(),m[h]=t.reach(e,d,n)}return i},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=o.resolve(e);var r=[Date.now(),process.pid,n.randomBytes(8).toString("hex")].join("-")+t;return o.join(e,r)},t.stringify=function(){try{return JSON.stringify.apply(null,arguments)}catch(e){return"[Cannot display object: "+e.message+"]"}},t.shallow=function(e){for(var t={},r=Object.keys(e),n=0,o=r.length;o>n;++n){var a=r[n];t[a]=e[a]}return t}},function(e,t){e.exports={_args:[["axios@^0.9.1","/Users/sandrino/Repositories/auth0/auth0-user-import-export-extension"]],_from:"axios@>=0.9.1 <0.10.0",_id:"axios@0.9.1",_inCache:!0,_installable:!0,_location:"/axios",_nodeVersion:"3.3.1",_npmUser:{email:"mzabriskie@gmail.com",name:"mzabriskie"},_npmVersion:"2.14.3",_phantomChildren:{},_requested:{name:"axios",raw:"axios@^0.9.1",rawSpec:"^0.9.1",scope:null,spec:">=0.9.1 <0.10.0",type:"range"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/axios/-/axios-0.9.1.tgz",_shasum:"95608b16447ee29b033589854c3fc7ee2c06bf6e",_shrinkwrap:null,_spec:"axios@^0.9.1",_where:"/Users/sandrino/Repositories/auth0/auth0-user-import-export-extension",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/mzabriskie/axios/issues"},dependencies:{"follow-redirects":"0.0.7"},description:"Promise based HTTP client for the browser and node.js",devDependencies:{coveralls:"2.11.6","es6-promise":"3.0.2",grunt:"0.4.5","grunt-banner":"0.6.0","grunt-cli":"0.1.13","grunt-contrib-clean":"0.7.0","grunt-contrib-nodeunit":"0.4.1","grunt-contrib-watch":"0.6.1","grunt-eslint":"17.3.1","grunt-karma":"0.12.1","grunt-ts":"5.3.2","grunt-update-json":"0.2.2","grunt-webpack":"1.0.11","istanbul-instrumenter-loader":"^0.1.3","jasmine-core":"2.4.1",karma:"0.13.19","karma-coverage":"0.5.3","karma-jasmine":"0.3.6","karma-jasmine-ajax":"0.1.13","karma-phantomjs-launcher":"0.2.3","karma-sinon":"1.0.4","karma-sourcemap-loader":"0.3.7","karma-webpack":"1.7.0","load-grunt-tasks":"3.4.0",minimist:"1.2.0",phantomjs:"1.9.19",webpack:"1.12.11","webpack-dev-server":"1.14.1"},directories:{},dist:{shasum:"95608b16447ee29b033589854c3fc7ee2c06bf6e",tarball:"https://registry.npmjs.org/axios/-/axios-0.9.1.tgz"},gitHead:"5176623d6c70e9d66c17f7867703a8e9990554bd",homepage:"https://github.com/mzabriskie/axios",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",maintainers:[{email:"mzabriskie@gmail.com",name:"mzabriskie"}],name:"axios",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/mzabriskie/axios.git"},scripts:{build:"grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",start:"node ./sandbox/server.js",test:"grunt test"},typescript:{definition:"./axios.d.ts"},version:"0.9.1"}},function(e,t){e.exports={title:"User Import / Export",name:"auth0-user-import-export",version:"1.1.1",author:"auth0",description:"This extension allows you to import/export users from/to your account.",type:"application",logoUrl:"https://cdn.auth0.com/extensions/auth0-user-import-export-extension/assets/logo.svg",initialUrlPath:"/login",repository:"https://github.com/auth0/auth0-user-import-export-extension",keywords:["auth0","extension"],auth0:{scopes:"create:users read:users read:connections"}}},function(e,t){e.exports=function(e){if(e.readable&&"function"==typeof e.resume){var t=e._readableState;if(!t||0===t.pipesCount)try{e.resume()}catch(r){console.error("Got error: "+r)}}}},function(e,t,r){function n(e){return function(t,r,n){var o=s(r.x_wt.jtn);return r.originalUrl=r.url,r.url=r.url.replace(o,"/"),r.webtaskContext=i(t),e(r,n)}}function o(e){var t;return e.ext("onRequest",function(e,r){var n=s(e.x_wt.jtn);e.setUrl(e.url.replace(n,"/")),e.webtaskContext=t}),function(r,n,o){var a=e._dispatch();t=i(r),a(n,o)}}function a(e){return function(t,r,n){var o=s(r.x_wt.jtn);return r.originalUrl=r.url,r.url=r.url.replace(o,"/"),r.webtaskContext=i(t),e.emit("request",r,n)}}function s(e){var t="^/api/run/[^/]+/",r="(?:[^/?#]*/?)?";return new RegExp(t+(e?r:""))}function i(e){function t(e,t,n){var o=r(2);"function"==typeof t&&(n=t,t={}),n(o.preconditionFailed("Storage is not available in this context"))}function n(t,n,o){var a=r(2),s=r(6);"function"==typeof n&&(o=n,n={}),s({uri:e.secrets.EXT_STORAGE_URL,method:"GET",headers:n.headers||{},qs:{path:t},json:!0},function(e,t,r){return e?o(a.wrap(e,502)):404===t.statusCode&&Object.hasOwnProperty.call(n,"defaultValue")?o(null,n.defaultValue):t.statusCode>=400?o(a.create(t.statusCode,r&&r.message)):void o(null,r)})}function o(e,t,n,o){var a=r(2);"function"==typeof n&&(o=n,n={}),o(a.preconditionFailed("Storage is not available in this context"))}function a(t,n,o,a){var s=r(2),i=r(6);"function"==typeof o&&(a=o,o={}),i({uri:e.secrets.EXT_STORAGE_URL,method:"PUT",headers:o.headers||{},qs:{path:t},body:n},function(e,t,r){return e?a(s.wrap(e,502)):t.statusCode>=400?a(s.create(t.statusCode,r&&r.message)):void a(null)})}return e.read=e.secrets.EXT_STORAGE_URL?n:t,e.write=e.secrets.EXT_STORAGE_URL?a:o,e}t.fromConnect=t.fromExpress=n,t.fromHapi=o,t.fromServer=t.fromRestify=a},function(e,t){e.exports=require("assert")},function(e,t){e.exports=require("buffer")},function(e,t){e.exports=require("debug")},function(e,t){e.exports=require("ejs")},function(e,t){e.exports=require("express-jwt")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("jade")},function(e,t){e.exports=require("jsonwebtoken")},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("lru-cache")},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("superagent")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("zlib")}]);